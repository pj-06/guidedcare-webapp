<!DOCTYPE html>
<html>
<head>
    <title>Family Members</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="supabase.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>

<div id="topbar-container"></div>

<div class="layout">
    <div id="sidebar-container"></div>

    <main class="content">

        <div class="card" style="background:#e6f4f7;border-left:6px solid #0e4d64;">
            <h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family Management</h2>
            <p>Manage patient details and healthcare records securely.</p>
        </div>

        <div class="card">
            <h2>Add Family Member</h2>
            <input class="input" id="name" placeholder="Name">
            <input class="input" id="age" placeholder="Age">
            <input class="input" id="relation" placeholder="Relation">
            <button class="btn" onclick="addMember()">Add</button>
        </div>

        <div class="card">
            <h2>Family List</h2>
            <div id="familyList"></div>
        </div>

    </main>
</div>

<script>
Promise.all([
    fetch('topmenu.html').then(res => res.text()),
    fetch('sidebar.html').then(res => res.text())
])
.then(([topbarData, sidebarData]) => {

    document.getElementById('topbar-container').innerHTML = topbarData;
    document.getElementById('sidebar-container').innerHTML = sidebarData;

    // AFTER injection initialize behavior
    initScrollBehavior();

    // Run page functions here
    checkAuth();
    loadFamily();
});
</script>

<script src="script.js"></script>

</body>

</html>