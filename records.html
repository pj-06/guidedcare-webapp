<!DOCTYPE html>
<html>
<head>
    <title>Health Records</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script src="supabase.js"></script>
    

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

</head>
<body>

<div id="topbar-container"></div>

<div class="layout">
    <div id="sidebar-container"></div>

    <main class="content">

        <div class="card" style="background:#e6f4f7;border-left:6px solid #0e4d64;">
            <h2>ðŸ©º Patient Medical Records</h2>
            <p>Add and monitor health records efficiently.</p>
        </div>

        <div class="card">
            <h2>Add Health Record</h2>
            <select class="input" id="patientSelect"></select>
            <input class="input" id="diagnosis" placeholder="Diagnosis">
            <input class="input" id="prescription" placeholder="Prescription">
            <button class="btn" onclick="addRecord()">Save</button>
        </div>

        <div class="card">
            <h2>Records List</h2>
            <div id="recordList"></div>
        </div>

    </main>
</div>

<script>
Promise.all([
    fetch('topmenu.html').then(res => res.text()),
    fetch('sidebar.html').then(res => res.text())
])
.then(([topbarData, sidebarData]) => {

    document.getElementById('topbar-container').innerHTML = topbarData;
    document.getElementById('sidebar-container').innerHTML = sidebarData;

    initScrollBehavior();

    // ðŸ”¥ ADD THESE:
    checkAuth();
    loadFamilyDropdown();
    loadRecords();
});
</script>

<script src="script.js"></script>

</body>

</html>